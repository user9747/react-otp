{"version":3,"sources":["../../src/index.tsx","App.js","index.js"],"names":["IB","styled","InputBox","memo","autoFocus","n","gap","onChange","inputStyle","useState","Array","otp","setOtp","ref","useRef","useEffect","keyListener","e","temp_otp","inputElements","isNaN","index","element","document","console","style","width","display","justifyContent","type","key","maxLength","value","App","log","border","ReactDOM","render","getElementById"],"mappings":"mqBAGA,IAAMA,E,KAAKC,EAAH,WAkBFC,EAAWC,eAAjB,G,EA8FeA,gBApFE,SAAC,G,QAChBC,qBAAYA,GAAA,E,IACZC,aAAIA,EAAA,I,IACJC,eAAMA,EAAA,SACNC,aACAC,e,EAEsBC,mBAAwBC,cAAhB,KAAvBC,OAAKC,OACNC,EAAMC,iBAAZ,MA4CA,OA1CAC,qBAAU,WACR,IAAMC,EAAc,SAACC,GACnB,IAAIC,EAAW,GAAH,OAAZ,GACA,UAAIL,UAAJ,CAEA,IAAMM,EAAgBN,UAAtB,SACA,GAAKO,MAAMH,EAAX,MAYO,GAAIA,qBAAJ,IAA6BC,SAClC,IAAK,IAAIG,EAAT,EAAoBA,EAAQF,EAA5B,OAAkDE,IAAS,CACzD,IAAMC,EAAUH,EAAhB,GACA,QAAID,KAAwB,CAC1B,IAAIG,GACDF,EAAcE,EAAdF,WACH,MAEF,GAAII,yBAAJ,EAAwC,CACtCL,QACAN,KACA,aAtBJ,IAAK,IAAIS,EAAT,EAAoBA,EAAQF,EAA5B,OAAkDE,IAChD,GAAIE,yBAA2BJ,EAA/B,GAAqD,CACnDD,KAAkBD,EAAlBC,IACAN,KACIS,IAAUV,SAAd,EAEGQ,KAFH,QAGMA,EAAcE,EAAdF,WACN,SAsBR,OAHAK,eACIb,oBAAJ,GAA+BJ,EAASI,OAATJ,KAC/BgB,qCACO,WACLA,2CAED,CAxCHR,IA2CE,yBACEF,IAAKA,EACLY,MAAO,CAAEC,MAAF,OAAiBC,QAAjB,OAAkCC,eAAgB,WAExDjB,EAAA,KAAQ,qBACP,IAAAU,EACE,qBACEQ,KAAK,SACLC,IAAKT,EACLjB,UAAWA,EACX2B,UAAW,EACXC,MAAOrB,MAAc,GACrBc,MAAOjB,EAAaA,EAAH,GAAuB,KAG1C,kCACE,yBAAKiB,MAAO,CAAEC,MAAOpB,KACrB,qBACEuB,KAAK,SACLC,IAAKT,EACLU,UAAW,EACXC,MAAOrB,MAAc,GACrBc,MAAOjB,EAAaA,EAAH,GAAuB,aCrFvCyB,G,MAhBH,WACV,OAAO,kBAAC,EAAD,CACL7B,WAAS,EACTC,EAAG,EACHE,SAAU,SAACU,GAAD,OAAOO,QAAQU,IAAIjB,IAC7BT,WAAY,SAACH,GAEX,OADAmB,QAAQU,IAAI7B,GACRA,EAAI,EACC,CAAE8B,OAAQ,iBAEV,CAAEA,OAAQ,oBAErB7B,IAAI,WCXR8B,IAASC,OAAO,kBAAC,EAAD,MAASd,SAASe,eAAe,U","file":"static/js/main.c2ae2aba.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef, memo,Fragment } from 'react'\nimport styled from 'styled-components'\n\nconst IB = styled.input`\n  border: none;\n  outline: none;\n  background: #dedede;\n  border-radius: 10px;\n  color: black;\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield;\n`\nconst InputBox = memo(IB)\n\ninterface Props {\n  autoFocus?: boolean\n  n?: number\n  gap?: string\n  onChange: (e: string) => void\n  inputStyle?: (n?: number) => React.CSSProperties\n}\n\nconst ReactOtp = ({\n  autoFocus = false,\n  n = 3,\n  gap = '10px',\n  onChange,\n  inputStyle\n}: Props) => {\n  const [otp, setOtp] = useState<Array<string>>(Array(n).fill(''))\n  const ref = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const keyListener = (e: any) => {\n      var temp_otp = [...otp]\n      if (ref.current === null) return\n\n      const inputElements = ref.current.children\n      if (!isNaN(e.key)) {\n        for (let index = 0; index < inputElements.length; index++) {\n          if (document.activeElement === inputElements[index]) {\n            temp_otp[index] = e.key\n            setOtp(temp_otp)\n            if (index === otp.length - 1)\n              // (inputElements[index] as HTMLInputElement).blur()\n              (inputElements[index] as HTMLInputElement).focus()\n            else (inputElements[index + 1] as HTMLInputElement).focus()\n            break\n          }\n        }\n      } else if (e.key === 'Backspace' && temp_otp.length !== 0) {\n        for (let index = 0; index < inputElements.length; index++) {\n          const element = inputElements[index]\n          if (temp_otp[index] === '') {\n            if (index !== 0)\n              (inputElements[index - 1] as HTMLInputElement).focus()\n            break\n          }\n          if (document.activeElement === element) {\n            temp_otp[index] = ''\n            setOtp(temp_otp)\n            break\n          }\n        }\n      }\n    }\n    console.log(otp)\n    if (otp.join('').length === n) onChange(otp.join(''))\n    document.addEventListener('keyup', keyListener)\n    return () => {\n      document.removeEventListener('keyup', keyListener)\n    }\n  }, [otp])\n\n  return (\n    <div\n      ref={ref}\n      style={{ width: '100%', display: 'flex', justifyContent: 'center' }}\n    >\n      {otp.map((_item, index) =>\n        index === 0 ? (\n          <InputBox\n            type='number'\n            key={index}\n            autoFocus={autoFocus}\n            maxLength={1}\n            value={otp[index] || ''}\n            style={inputStyle ? inputStyle(index) : {}}\n          />\n        ) : (\n          <Fragment>\n            <div style={{ width: gap }} />\n            <InputBox\n              type='number'\n              key={index}\n              maxLength={1}\n              value={otp[index] || ''}\n              style={inputStyle ? inputStyle(index) : {}}\n            />\n          </Fragment>\n        )\n      )}\n    </div>\n  )\n}\n\nexport default memo(ReactOtp)\n","import React from 'react'\n\nimport ReactOtp from 'react-otp-box'\nimport 'react-otp-box/dist/index.css'\n\nconst App = () => {\n  return <ReactOtp\n    autoFocus\n    n={6}\n    onChange={(e) => console.log(e)}\n    inputStyle={(n) => {\n      console.log(n)\n      if (n % 2)\n        return { border: \"1px solid red\" }\n      else\n        return { border: \"1px solid green\" }\n    }}\n    gap=\"30px\"\n  />\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}